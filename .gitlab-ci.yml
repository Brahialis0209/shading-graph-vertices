image: python:3-slim
before_script:
    - pip3 install flake8
    - pip3 install graphviz
    - pip3 install mypy
stages:
    - static_analysis
    - test
variables:
    PYTHON: "python3"
static_analysis:
    stage: static_analysis
    script:
        - flake8 --max-line-length=120 src/*.py
        - flake8 --max-line-length=120 src/logic/*.py
        - flake8 --max-line-length=120 test/*.py
        - mypy src/*.py
        - mypy test/*.py
test:
    stage: test
    script:
        - echo "test started..."
        - cd tests
        - python3 main.py config
        - echo "Example test over."



